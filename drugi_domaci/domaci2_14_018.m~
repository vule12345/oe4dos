% OE4DOS Second assignment 11/2017
% Student : Vuk Vukomanovic 2014/0018
% This script contains all sub tasks
% Assigment : http://tnt.etf.rs/~oe4dos/Domaci_zadaci/dos1718_domaci2.pdf
clear
clc
close all
warning('off', 'images:initSize:adjustingMag')
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Report holds explanations of why certain method were used

% %% 1. Restauration image girl_print.tif. Image represents digitalized
% % printed image.
% disp('First part of assignment starts here')
% 
% % Loading image
% girl_print = double(imread('ulazne_slike/girl_print.jpg'));
% disp('Girl_print.jpg loaded, processing image')
% 
% % Showing image
% figure
% imshow(girl_print,[]);
% set(gcf, 'Name', 'Ulazna slika, girl_print');
% 
% % Getting image size
% [M, N] = size(girl_print);
% 
% % Calculating FFT of input image
% girl_print_spectrum = fft2(girl_print);
% 
% % Showing image ampl spectrum
% figure;
% imshow(log(1 + abs(fftshift(girl_print_spectrum))),[]);
% set(gcf, 'Name', 'Spektar ulazne slike, girl_print');
% 
% % Selective filtering with notch filter, cnotch funcion is used
% 
% % Centre points of filters
% C1 = [60 36; 100 134; 231 104; 361 76; 404 174;495 45; 508 163; 219 26];
% 
% C2 = [469 65; 86 54; 465 37];
% 
% % Creation of filters
% H_gaussian_big = cnotch('gaussian', 'reject', M, N, C1, 50);
% 
% H_gaussian_small = cnotch('gaussian', 'reject', M, N, C2, 5);
% 
% H_gaussian = H_gaussian_big.*H_gaussian_small;
% 
% % Showing filter ampl spectrum
% figure; 
% imshow(log(1 + abs(fftshift(H_gaussian))),[]);
% set(gcf, 'Name', 'Spektar noc filtra');
% 
% % Convolution
% filtered_spectrum_gaussian = H_gaussian.*girl_print_spectrum;
% 
% % Spectrum after convlution
% figure; 
% imshow(log(1 + abs(fftshift(filtered_spectrum_gaussian))),[]);
% set(gcf, 'Name', 'Spektar nakon filtriranja');
% 
% 
% % Inverse fft, getting back in spatial domain
% girl_print_filtered = ifft2(filtered_spectrum_gaussian);
% 
% figure; 
% imshow(uint8(girl_print_filtered));
% set(gcf, 'Name', 'Slika nakon filtriranja');
% disp('First part of homework ends here');
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% 2. Usage of funcion dos_downscale on image roof.jpg
disp('Second part of homework starts here')
house = double(imread('ulazne_slike/roof.jpg'));


smaller_house_2 = dos_downscale(house,2);

smaller_house_4 = dos_downscale(house,4);

smaller_house_8 = dos_downscale(house,8);

















